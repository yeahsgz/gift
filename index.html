<!DOCTYPE html>
<html>
<head lang="zh-Hans">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="applicable-device" content="mobile">
    <title>摇出你的新年礼物</title>
    <meta name="format-detection" content="telephone=no">
    <meta name="wap-font-scale" content="no">
    <script>
        !function (N, M) {
            function L() {
                var a = I.getBoundingClientRect().width;
                a / F > 540 && (a = 540 * F);
                var d = a / 10;
                I.style.fontSize = d + "px", D.rem = N.rem = d
            }

            var K, J = N.document, I = J.documentElement, H = J.querySelector('meta[name="viewport"]'), G = J.querySelector('meta[name="flexible"]'), F = 0, E = 0, D = M.flexible || (M.flexible = {});
            if (H) {
                console.warn("将根据已有的meta标签来设置缩放比例");
                var C = H.getAttribute("content").match(/initial\-scale=([\d\.]+)/);
                C && (E = parseFloat(C[1]), F = parseInt(1 / E))
            } else {
                if (G) {
                    var B = G.getAttribute("content");
                    if (B) {
                        var A = B.match(/initial\-dpr=([\d\.]+)/), z = B.match(/maximum\-dpr=([\d\.]+)/);
                        A && (F = parseFloat(A[1]), E = parseFloat((1 / F).toFixed(2))), z && (F = parseFloat(z[1]), E = parseFloat((1 / F).toFixed(2)))
                    }
                }
            }
            if (!F && !E) {
                var y = N.navigator.userAgent, x = (!!y.match(/android/gi), !!y.match(/iphone/gi)), w = x && !!y.match(/OS 9_3/), v = N.devicePixelRatio;
                F = x && !w ? v >= 3 && (!F || F >= 3) ? 3 : v >= 2 && (!F || F >= 2) ? 2 : 1 : 1, E = 1 / F
            }
            if (I.setAttribute("data-dpr", F), !H) {
                if (H = J.createElement("meta"), H.setAttribute("name", "viewport"), H.setAttribute("content", "initial-scale=" + E + ", maximum-scale=" + E + ", minimum-scale=" + E + ", user-scalable=no"), I.firstElementChild) {
                    I.firstElementChild.appendChild(H)
                } else {
                    var u = J.createElement("div");
                    u.appendChild(H), J.write(u.innerHTML)
                }
            }
            N.addEventListener("resize", function () {
                clearTimeout(K), K = setTimeout(L, 300)
            }, !1), N.addEventListener("pageshow", function (b) {
                b.persisted && (clearTimeout(K), K = setTimeout(L, 300))
            }, !1), "complete" === J.readyState ? J.body.style.fontSize = 12 * F + "px" : J.addEventListener("DOMContentLoaded", function () {
                J.body.style.fontSize = 12 * F + "px"
            }, !1), L(), D.dpr = N.dpr = F, D.refreshRem = L, D.rem2px = function (d) {
                var c = parseFloat(d) * this.rem;
                return "string" == typeof d && d.match(/rem$/) && (c += "px"), c
            }, D.px2rem = function (d) {
                var c = parseFloat(d) / this.rem;
                return "string" == typeof d && d.match(/px$/) && (c += "rem"), c
            }
        }(window, window.lib || (window.lib = {}));
    </script>
    <link rel="stylesheet" href="./css/animate.css"/>
    <style>
        *{
            margin     :0;
            padding    :0;
            box-sizing :border-box;
        }

        html, body{
            width  :100%;
            height :100%;
        }

        a{
            text-decoration :none;
            font-size       :12px;
        }

        .hide{
            display :none;
        }

        body{
            background      :url('./img/bg1.jpg') top no-repeat;
            background-size :100% 100%;
        }

        .gift-box-wrap{
            margin      :3.2rem auto 3.4rem;
            width       :4.2rem;
            height      :4.2rem;
            will-change :transform;
            text-align  :center;
            position    :relative;
        }

        .gift-box{
            display  :inline-block;
            width    :4.2rem;
            height   :4.2rem;
            position :relative;
            left     :-0.3rem;
        }

        .name-ipt{
            display       :block;
            margin        :0 auto;
            width         :4.6rem;
            height        :24px;
            line-height   :24px;
            border-radius :8px;
            padding       :0 14px;
            border        :navajowhite;
            text-align    :center;
        }

        .get-gift-btn{
            display       :block;
            text-align    :center;
            width         :4.6rem;
            height        :24px;
            line-height   :24px;
            background    :red;
            margin        :10px auto;
            color         :#fff;
            border-radius :8px;
        }

        .share-gift{
            position :fixed; width :100%; height :100%; top :0; left :0; z-index :100;
        }

        @keyframes rotate{
            from{
                transform :rotate(0deg);
            }
            to{
                transform :rotate(360deg);
            }
        }

        @-webkit-keyframes rotate{
            from{
                transform :rotate(0deg);
            }
            to{
                transform :rotate(360deg);
            }
        }

        .rotate{
            -webkit-animation :rotate 2s linear infinite;
            animation         :rotate 2s linear infinite;
        }


    </style>
    <style>


        .animation-target{
            -webkit-animation :my-animation 1509ms linear both;
            animation         :my-animation 1509ms linear both;
        }

        @-webkit-keyframes my-animation{
            0%{ -webkit-transform :matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 120, 0, 0, 1); transform :matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 120, 0, 0, 1); }
            0.5%{ -webkit-transform :matrix3d(1, 0, 0, 0, 0.105, 1, 0, 0, 0, 0, 1, 0, 111.598, 0, 0, 1); transform :matrix3d(1, 0, 0, 0, 0.105, 1, 0, 0, 0, 0, 1, 0, 111.598, 0, 0, 1); }
            0.6%{ -webkit-transform :matrix3d(1, 0, 0, 0, 0.126, 1, 0, 0, 0, 0, 1, 0, 109.97, 0, 0, 1); transform :matrix3d(1, 0, 0, 0, 0.126, 1, 0, 0, 0, 0, 1, 0, 109.97, 0, 0, 1); }
            2.09%{ -webkit-transform :matrix3d(1.357, 0, 0, 0, 0.519, 1.357, 0, 0, 0, 0, 1, 0, 119.502, 0, 0, 1); transform :matrix3d(1.357, 0, 0, 0, 0.519, 1.357, 0, 0, 0, 0, 1, 0, 119.502, 0, 0, 1); }
            4.18%{ -webkit-transform :matrix3d(1.963, 0, 0, 0, 1.05, 1.963, 0, 0, 0, 0, 1, 0, 125.612, 0, 0, 1); transform :matrix3d(1.963, 0, 0, 0, 1.05, 1.963, 0, 0, 0, 0, 1, 0, 125.612, 0, 0, 1); }
            6.67%{ -webkit-transform :matrix3d(2.652, 0, 0, 0, 1, 2.652, 0, 0, 0, 0, 1, 0, 114.551, 0, 0, 1); transform :matrix3d(2.652, 0, 0, 0, 1, 2.652, 0, 0, 0, 0, 1, 0, 114.551, 0, 0, 1); }
            7.16%{ -webkit-transform :matrix3d(2.771, 0, 0, 0, 0.889, 2.771, 0, 0, 0, 0, 1, 0, 110.443, 0, 0, 1); transform :matrix3d(2.771, 0, 0, 0, 0.889, 2.771, 0, 0, 0, 0, 1, 0, 110.443, 0, 0, 1); }
            8.36%{ -webkit-transform :matrix3d(3.022, 0, 0, 0, 0.539, 3.022, 0, 0, 0, 0, 1, 0, 99.007, 0, 0, 1); transform :matrix3d(3.022, 0, 0, 0, 0.539, 3.022, 0, 0, 0, 0, 1, 0, 99.007, 0, 0, 1); }
            9.15%{ -webkit-transform :matrix3d(3.159, 0, 0, 0, 0.27, 3.159, 0, 0, 0, 0, 1, 0, 90.64, 0, 0, 1); transform :matrix3d(3.159, 0, 0, 0, 0.27, 3.159, 0, 0, 0, 0, 1, 0, 90.64, 0, 0, 1); }
            10.45%{ -webkit-transform :matrix3d(3.328, 0, 0, 0, -0.167, 3.328, 0, 0, 0, 0, 1, 0, 76.71, 0, 0, 1); transform :matrix3d(3.328, 0, 0, 0, -0.167, 3.328, 0, 0, 0, 0, 1, 0, 76.71, 0, 0, 1); }
            11.64%{ -webkit-transform :matrix3d(3.428, 0, 0, 0, -0.507, 3.428, 0, 0, 0, 0, 1, 0, 64.256, 0, 0, 1); transform :matrix3d(3.428, 0, 0, 0, -0.507, 3.428, 0, 0, 0, 0, 1, 0, 64.256, 0, 0, 1); }
            12.54%{ -webkit-transform :matrix3d(3.47, 0, 0, 0, -0.689, 3.47, 0, 0, 0, 0, 1, 0, 55.549, 0, 0, 1); transform :matrix3d(3.47, 0, 0, 0, -0.689, 3.47, 0, 0, 0, 0, 1, 0, 55.549, 0, 0, 1); }
            13.73%{ -webkit-transform :matrix3d(3.488, 0, 0, 0, -0.808, 3.488, 0, 0, 0, 0, 1, 0, 45.061, 0, 0, 1); transform :matrix3d(3.488, 0, 0, 0, -0.808, 3.488, 0, 0, 0, 0, 1, 0, 45.061, 0, 0, 1); }
            14.13%{ -webkit-transform :matrix3d(3.486, 0, 0, 0, -0.816, 3.486, 0, 0, 0, 0, 1, 0, 41.871, 0, 0, 1); transform :matrix3d(3.486, 0, 0, 0, -0.816, 3.486, 0, 0, 0, 0, 1, 0, 41.871, 0, 0, 1); }
            16.62%{ -webkit-transform :matrix3d(3.401, 0, 0, 0, -0.577, 3.401, 0, 0, 0, 0, 1, 0, 25.586, 0, 0, 1); transform :matrix3d(3.401, 0, 0, 0, -0.577, 3.401, 0, 0, 0, 0, 1, 0, 25.586, 0, 0, 1); }
            17.61%{ -webkit-transform :matrix3d(3.345, 0, 0, 0, -0.401, 3.345, 0, 0, 0, 0, 1, 0, 20.714, 0, 0, 1); transform :matrix3d(3.345, 0, 0, 0, -0.401, 3.345, 0, 0, 0, 0, 1, 0, 20.714, 0, 0, 1); }
            19.1%{ -webkit-transform :matrix3d(3.25, 0, 0, 0, -0.128, 3.25, 0, 0, 0, 0, 1, 0, 14.888, 0, 0, 1); transform :matrix3d(3.25, 0, 0, 0, -0.128, 3.25, 0, 0, 0, 0, 1, 0, 14.888, 0, 0, 1); }
            21.39%{ -webkit-transform :matrix3d(3.107, 0, 0, 0, 0.195, 3.107, 0, 0, 0, 0, 1, 0, 8.732, 0, 0, 1); transform :matrix3d(3.107, 0, 0, 0, 0.195, 3.107, 0, 0, 0, 0, 1, 0, 8.732, 0, 0, 1); }
            21.59%{ -webkit-transform :matrix3d(3.096, 0, 0, 0, 0.214, 3.096, 0, 0, 0, 0, 1, 0, 8.322, 0, 0, 1); transform :matrix3d(3.096, 0, 0, 0, 0.214, 3.096, 0, 0, 0, 0, 1, 0, 8.322, 0, 0, 1); }
            24.08%{ -webkit-transform :matrix3d(2.978, 0, 0, 0, 0.321, 2.978, 0, 0, 0, 0, 1, 0, 4.458, 0, 0, 1); transform :matrix3d(2.978, 0, 0, 0, 0.321, 2.978, 0, 0, 0, 0, 1, 0, 4.458, 0, 0, 1); }
            24.88%{ -webkit-transform :matrix3d(2.952, 0, 0, 0, 0.309, 2.952, 0, 0, 0, 0, 1, 0, 3.607, 0, 0, 1); transform :matrix3d(2.952, 0, 0, 0, 0.309, 2.952, 0, 0, 0, 0, 1, 0, 3.607, 0, 0, 1); }
            25.27%{ -webkit-transform :matrix3d(2.94, 0, 0, 0, 0.296, 2.94, 0, 0, 0, 0, 1, 0, 3.235, 0, 0, 1); transform :matrix3d(2.94, 0, 0, 0, 0.296, 2.94, 0, 0, 0, 0, 1, 0, 3.235, 0, 0, 1); }
            29.05%{ -webkit-transform :matrix3d(2.894, 0, 0, 0, 0.053, 2.894, 0, 0, 0, 0, 1, 0, 0.969, 0, 0, 1); transform :matrix3d(2.894, 0, 0, 0, 0.053, 2.894, 0, 0, 0, 0, 1, 0, 0.969, 0, 0, 1); }
            29.05%{ -webkit-transform :matrix3d(2.894, 0, 0, 0, 0.053, 2.894, 0, 0, 0, 0, 1, 0, 0.969, 0, 0, 1); transform :matrix3d(2.894, 0, 0, 0, 0.053, 2.894, 0, 0, 0, 0, 1, 0, 0.969, 0, 0, 1); }
            33.13%{ -webkit-transform :matrix3d(2.928, 0, 0, 0, -0.141, 2.928, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform :matrix3d(2.928, 0, 0, 0, -0.141, 2.928, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
            34.03%{ -webkit-transform :matrix3d(2.94, 0, 0, 0, -0.148, 2.94, 0, 0, 0, 0, 1, 0, 0.105, 0, 0, 1); transform :matrix3d(2.94, 0, 0, 0, -0.148, 2.94, 0, 0, 0, 0, 1, 0, 0.105, 0, 0, 1); }
            39.8%{ -webkit-transform :matrix3d(3.008, 0, 0, 0, 0.001, 3.008, 0, 0, 0, 0, 1, 0, 0.34, 0, 0, 1); transform :matrix3d(3.008, 0, 0, 0, 0.001, 3.008, 0, 0, 0, 0, 1, 0, 0.34, 0, 0, 1); }
            43.98%{ -webkit-transform :matrix3d(3.023, 0, 0, 0, 0.071, 3.023, 0, 0, 0, 0, 1, 0, 0.295, 0, 0, 1); transform :matrix3d(3.023, 0, 0, 0, 0.071, 3.023, 0, 0, 0, 0, 1, 0, 0.295, 0, 0, 1); }
            44.28%{ -webkit-transform :matrix3d(3.023, 0, 0, 0, 0.071, 3.023, 0, 0, 0, 0, 1, 0, 0.289, 0, 0, 1); transform :matrix3d(3.023, 0, 0, 0, 0.071, 3.023, 0, 0, 0, 0, 1, 0, 0.289, 0, 0, 1); }
            53.93%{ -webkit-transform :matrix3d(3, 0, 0, 0, -0.033, 3, 0, 0, 0, 0, 1, 0, 0.116, 0, 0, 1); transform :matrix3d(3, 0, 0, 0, -0.033, 3, 0, 0, 0, 0, 1, 0, 0.116, 0, 0, 1); }
            59.6%{ -webkit-transform :matrix3d(2.995, 0, 0, 0, 0, 2.995, 0, 0, 0, 0, 1, 0, 0.058, 0, 0, 1); transform :matrix3d(2.995, 0, 0, 0, 0, 2.995, 0, 0, 0, 0, 1, 0, 0.058, 0, 0, 1); }
            63.88%{ -webkit-transform :matrix3d(2.997, 0, 0, 0, 0.015, 2.997, 0, 0, 0, 0, 1, 0, 0.032, 0, 0, 1); transform :matrix3d(2.997, 0, 0, 0, 0.015, 2.997, 0, 0, 0, 0, 1, 0, 0.032, 0, 0, 1); }
            73.83%{ -webkit-transform :matrix3d(3.001, 0, 0, 0, -0.007, 3.001, 0, 0, 0, 0, 1, 0, 0.007, 0, 0, 1); transform :matrix3d(3.001, 0, 0, 0, -0.007, 3.001, 0, 0, 0, 0, 1, 0, 0.007, 0, 0, 1); }
            74.93%{ -webkit-transform :matrix3d(3.001, 0, 0, 0, -0.007, 3.001, 0, 0, 0, 0, 1, 0, 0.006, 0, 0, 1); transform :matrix3d(3.001, 0, 0, 0, -0.007, 3.001, 0, 0, 0, 0, 1, 0, 0.006, 0, 0, 1); }
            83.78%{ -webkit-transform :matrix3d(3, 0, 0, 0, 0.003, 3, 0, 0, 0, 0, 1, 0, 0.001, 0, 0, 1); transform :matrix3d(3, 0, 0, 0, 0.003, 3, 0, 0, 0, 0, 1, 0, 0.001, 0, 0, 1); }
            90.25%{ -webkit-transform :matrix3d(3, 0, 0, 0, -0.001, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform :matrix3d(3, 0, 0, 0, -0.001, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
            93.73%{ -webkit-transform :matrix3d(3, 0, 0, 0, -0.002, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform :matrix3d(3, 0, 0, 0, -0.002, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
            99.4%{ -webkit-transform :matrix3d(3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform :matrix3d(3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
            100%{ -webkit-transform :matrix3d(3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform :matrix3d(3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
        }

        @keyframes animation{
            0%{ -webkit-transform :matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 120, 0, 0, 1); transform :matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 120, 0, 0, 1); }
            0.5%{ -webkit-transform :matrix3d(1, 0, 0, 0, 0.105, 1, 0, 0, 0, 0, 1, 0, 111.598, 0, 0, 1); transform :matrix3d(1, 0, 0, 0, 0.105, 1, 0, 0, 0, 0, 1, 0, 111.598, 0, 0, 1); }
            0.6%{ -webkit-transform :matrix3d(1, 0, 0, 0, 0.126, 1, 0, 0, 0, 0, 1, 0, 109.97, 0, 0, 1); transform :matrix3d(1, 0, 0, 0, 0.126, 1, 0, 0, 0, 0, 1, 0, 109.97, 0, 0, 1); }
            2.09%{ -webkit-transform :matrix3d(1.357, 0, 0, 0, 0.519, 1.357, 0, 0, 0, 0, 1, 0, 119.502, 0, 0, 1); transform :matrix3d(1.357, 0, 0, 0, 0.519, 1.357, 0, 0, 0, 0, 1, 0, 119.502, 0, 0, 1); }
            4.18%{ -webkit-transform :matrix3d(1.963, 0, 0, 0, 1.05, 1.963, 0, 0, 0, 0, 1, 0, 125.612, 0, 0, 1); transform :matrix3d(1.963, 0, 0, 0, 1.05, 1.963, 0, 0, 0, 0, 1, 0, 125.612, 0, 0, 1); }
            6.67%{ -webkit-transform :matrix3d(2.652, 0, 0, 0, 1, 2.652, 0, 0, 0, 0, 1, 0, 114.551, 0, 0, 1); transform :matrix3d(2.652, 0, 0, 0, 1, 2.652, 0, 0, 0, 0, 1, 0, 114.551, 0, 0, 1); }
            7.16%{ -webkit-transform :matrix3d(2.771, 0, 0, 0, 0.889, 2.771, 0, 0, 0, 0, 1, 0, 110.443, 0, 0, 1); transform :matrix3d(2.771, 0, 0, 0, 0.889, 2.771, 0, 0, 0, 0, 1, 0, 110.443, 0, 0, 1); }
            8.36%{ -webkit-transform :matrix3d(3.022, 0, 0, 0, 0.539, 3.022, 0, 0, 0, 0, 1, 0, 99.007, 0, 0, 1); transform :matrix3d(3.022, 0, 0, 0, 0.539, 3.022, 0, 0, 0, 0, 1, 0, 99.007, 0, 0, 1); }
            9.15%{ -webkit-transform :matrix3d(3.159, 0, 0, 0, 0.27, 3.159, 0, 0, 0, 0, 1, 0, 90.64, 0, 0, 1); transform :matrix3d(3.159, 0, 0, 0, 0.27, 3.159, 0, 0, 0, 0, 1, 0, 90.64, 0, 0, 1); }
            10.45%{ -webkit-transform :matrix3d(3.328, 0, 0, 0, -0.167, 3.328, 0, 0, 0, 0, 1, 0, 76.71, 0, 0, 1); transform :matrix3d(3.328, 0, 0, 0, -0.167, 3.328, 0, 0, 0, 0, 1, 0, 76.71, 0, 0, 1); }
            11.64%{ -webkit-transform :matrix3d(3.428, 0, 0, 0, -0.507, 3.428, 0, 0, 0, 0, 1, 0, 64.256, 0, 0, 1); transform :matrix3d(3.428, 0, 0, 0, -0.507, 3.428, 0, 0, 0, 0, 1, 0, 64.256, 0, 0, 1); }
            12.54%{ -webkit-transform :matrix3d(3.47, 0, 0, 0, -0.689, 3.47, 0, 0, 0, 0, 1, 0, 55.549, 0, 0, 1); transform :matrix3d(3.47, 0, 0, 0, -0.689, 3.47, 0, 0, 0, 0, 1, 0, 55.549, 0, 0, 1); }
            13.73%{ -webkit-transform :matrix3d(3.488, 0, 0, 0, -0.808, 3.488, 0, 0, 0, 0, 1, 0, 45.061, 0, 0, 1); transform :matrix3d(3.488, 0, 0, 0, -0.808, 3.488, 0, 0, 0, 0, 1, 0, 45.061, 0, 0, 1); }
            14.13%{ -webkit-transform :matrix3d(3.486, 0, 0, 0, -0.816, 3.486, 0, 0, 0, 0, 1, 0, 41.871, 0, 0, 1); transform :matrix3d(3.486, 0, 0, 0, -0.816, 3.486, 0, 0, 0, 0, 1, 0, 41.871, 0, 0, 1); }
            16.62%{ -webkit-transform :matrix3d(3.401, 0, 0, 0, -0.577, 3.401, 0, 0, 0, 0, 1, 0, 25.586, 0, 0, 1); transform :matrix3d(3.401, 0, 0, 0, -0.577, 3.401, 0, 0, 0, 0, 1, 0, 25.586, 0, 0, 1); }
            17.61%{ -webkit-transform :matrix3d(3.345, 0, 0, 0, -0.401, 3.345, 0, 0, 0, 0, 1, 0, 20.714, 0, 0, 1); transform :matrix3d(3.345, 0, 0, 0, -0.401, 3.345, 0, 0, 0, 0, 1, 0, 20.714, 0, 0, 1); }
            19.1%{ -webkit-transform :matrix3d(3.25, 0, 0, 0, -0.128, 3.25, 0, 0, 0, 0, 1, 0, 14.888, 0, 0, 1); transform :matrix3d(3.25, 0, 0, 0, -0.128, 3.25, 0, 0, 0, 0, 1, 0, 14.888, 0, 0, 1); }
            21.39%{ -webkit-transform :matrix3d(3.107, 0, 0, 0, 0.195, 3.107, 0, 0, 0, 0, 1, 0, 8.732, 0, 0, 1); transform :matrix3d(3.107, 0, 0, 0, 0.195, 3.107, 0, 0, 0, 0, 1, 0, 8.732, 0, 0, 1); }
            21.59%{ -webkit-transform :matrix3d(3.096, 0, 0, 0, 0.214, 3.096, 0, 0, 0, 0, 1, 0, 8.322, 0, 0, 1); transform :matrix3d(3.096, 0, 0, 0, 0.214, 3.096, 0, 0, 0, 0, 1, 0, 8.322, 0, 0, 1); }
            24.08%{ -webkit-transform :matrix3d(2.978, 0, 0, 0, 0.321, 2.978, 0, 0, 0, 0, 1, 0, 4.458, 0, 0, 1); transform :matrix3d(2.978, 0, 0, 0, 0.321, 2.978, 0, 0, 0, 0, 1, 0, 4.458, 0, 0, 1); }
            24.88%{ -webkit-transform :matrix3d(2.952, 0, 0, 0, 0.309, 2.952, 0, 0, 0, 0, 1, 0, 3.607, 0, 0, 1); transform :matrix3d(2.952, 0, 0, 0, 0.309, 2.952, 0, 0, 0, 0, 1, 0, 3.607, 0, 0, 1); }
            25.27%{ -webkit-transform :matrix3d(2.94, 0, 0, 0, 0.296, 2.94, 0, 0, 0, 0, 1, 0, 3.235, 0, 0, 1); transform :matrix3d(2.94, 0, 0, 0, 0.296, 2.94, 0, 0, 0, 0, 1, 0, 3.235, 0, 0, 1); }
            29.05%{ -webkit-transform :matrix3d(2.894, 0, 0, 0, 0.053, 2.894, 0, 0, 0, 0, 1, 0, 0.969, 0, 0, 1); transform :matrix3d(2.894, 0, 0, 0, 0.053, 2.894, 0, 0, 0, 0, 1, 0, 0.969, 0, 0, 1); }
            29.05%{ -webkit-transform :matrix3d(2.894, 0, 0, 0, 0.053, 2.894, 0, 0, 0, 0, 1, 0, 0.969, 0, 0, 1); transform :matrix3d(2.894, 0, 0, 0, 0.053, 2.894, 0, 0, 0, 0, 1, 0, 0.969, 0, 0, 1); }
            33.13%{ -webkit-transform :matrix3d(2.928, 0, 0, 0, -0.141, 2.928, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform :matrix3d(2.928, 0, 0, 0, -0.141, 2.928, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
            34.03%{ -webkit-transform :matrix3d(2.94, 0, 0, 0, -0.148, 2.94, 0, 0, 0, 0, 1, 0, 0.105, 0, 0, 1); transform :matrix3d(2.94, 0, 0, 0, -0.148, 2.94, 0, 0, 0, 0, 1, 0, 0.105, 0, 0, 1); }
            39.8%{ -webkit-transform :matrix3d(3.008, 0, 0, 0, 0.001, 3.008, 0, 0, 0, 0, 1, 0, 0.34, 0, 0, 1); transform :matrix3d(3.008, 0, 0, 0, 0.001, 3.008, 0, 0, 0, 0, 1, 0, 0.34, 0, 0, 1); }
            43.98%{ -webkit-transform :matrix3d(3.023, 0, 0, 0, 0.071, 3.023, 0, 0, 0, 0, 1, 0, 0.295, 0, 0, 1); transform :matrix3d(3.023, 0, 0, 0, 0.071, 3.023, 0, 0, 0, 0, 1, 0, 0.295, 0, 0, 1); }
            44.28%{ -webkit-transform :matrix3d(3.023, 0, 0, 0, 0.071, 3.023, 0, 0, 0, 0, 1, 0, 0.289, 0, 0, 1); transform :matrix3d(3.023, 0, 0, 0, 0.071, 3.023, 0, 0, 0, 0, 1, 0, 0.289, 0, 0, 1); }
            53.93%{ -webkit-transform :matrix3d(3, 0, 0, 0, -0.033, 3, 0, 0, 0, 0, 1, 0, 0.116, 0, 0, 1); transform :matrix3d(3, 0, 0, 0, -0.033, 3, 0, 0, 0, 0, 1, 0, 0.116, 0, 0, 1); }
            59.6%{ -webkit-transform :matrix3d(2.995, 0, 0, 0, 0, 2.995, 0, 0, 0, 0, 1, 0, 0.058, 0, 0, 1); transform :matrix3d(2.995, 0, 0, 0, 0, 2.995, 0, 0, 0, 0, 1, 0, 0.058, 0, 0, 1); }
            63.88%{ -webkit-transform :matrix3d(2.997, 0, 0, 0, 0.015, 2.997, 0, 0, 0, 0, 1, 0, 0.032, 0, 0, 1); transform :matrix3d(2.997, 0, 0, 0, 0.015, 2.997, 0, 0, 0, 0, 1, 0, 0.032, 0, 0, 1); }
            73.83%{ -webkit-transform :matrix3d(3.001, 0, 0, 0, -0.007, 3.001, 0, 0, 0, 0, 1, 0, 0.007, 0, 0, 1); transform :matrix3d(3.001, 0, 0, 0, -0.007, 3.001, 0, 0, 0, 0, 1, 0, 0.007, 0, 0, 1); }
            74.93%{ -webkit-transform :matrix3d(3.001, 0, 0, 0, -0.007, 3.001, 0, 0, 0, 0, 1, 0, 0.006, 0, 0, 1); transform :matrix3d(3.001, 0, 0, 0, -0.007, 3.001, 0, 0, 0, 0, 1, 0, 0.006, 0, 0, 1); }
            83.78%{ -webkit-transform :matrix3d(3, 0, 0, 0, 0.003, 3, 0, 0, 0, 0, 1, 0, 0.001, 0, 0, 1); transform :matrix3d(3, 0, 0, 0, 0.003, 3, 0, 0, 0, 0, 1, 0, 0.001, 0, 0, 1); }
            90.25%{ -webkit-transform :matrix3d(3, 0, 0, 0, -0.001, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform :matrix3d(3, 0, 0, 0, -0.001, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
            93.73%{ -webkit-transform :matrix3d(3, 0, 0, 0, -0.002, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform :matrix3d(3, 0, 0, 0, -0.002, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
            99.4%{ -webkit-transform :matrix3d(3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform :matrix3d(3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
            100%{ -webkit-transform :matrix3d(3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform :matrix3d(3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
        }


    </style>
</head>
<body>
<div class="j-ready animated" style="overflow:hidden">
    <div class="gift-box-wrap j-gift-logo-wrap">
        <img class="gift-box animated j-gift-box" src="./img/gift-box.png" alt=""/>
    </div>
    <div>
        <input type="text" placeholder="请输入你的姓名" class="name-ipt j-name-ipt"/>
    </div>
    <a class="get-gift-btn j-get-gift-btn" href="javascript:void(0)">领取我的本命礼物</a>
</div>


<div class="canvas-wrap j-canvas-wrap hide">
    <canvas class="j-canvas" id="canvas" style="position:fixed;width: 100%;height: 100%;"></canvas>
</div>
<img class="hide share-gift animated j-share-gift" src=""/>

<script src="./js/jq.js"></script>
<script>
    $(document).ready(function () {

        var dWidth = $(window).width();
        var dHeight = $(window).height();
        $('body').css({
            width: dWidth,
            height: dHeight
        });

        var bindAnimation = function () {

            setTimeout(function () {
                $('.j-gift-box').addClass('zoomOut');
            }, 1000);

            setTimeout(function () {
                $('.j-share-gift').removeClass('hide').addClass('zoomIn');
            }, 2000)

        };

        var $name = $('.j-name-ipt');

        $('.j-get-gift-btn').on('click', function () {
            var name = $name.val();
            if (!name) {
                return $name.focus();
            }
            bindAnimation();

            localGift.setName(name, drawGift);
        });


        var localGift = {
            giftInfo: null,
            init: function () {
                this.getGift();
            },
            setName: function (name, cb) {
                this.name = name;
                this.cb = cb;
                this.getGift();
            },
            getGift: function () {
                try {
                    this.giftInfo = JSON.parse(localStorage.getItem('ownGift'));
                } catch (e) {
                    console.log('你的设备不支持localStorage', e);
                }
                if (this.giftInfo && this.giftInfo.name == this.name) {
                    this.cb();
                } else {
                    this.getRandomGift();
                }
            },
            setGift: function (data) {
                try {
                    localStorage.setItem('ownGift', JSON.stringify(data));
                } catch (e) {
                    console.log('你的设备不支持localStorage', e);
                }
            },
            getRandomGift: function () {
                var that = this;
                $.getJSON('./data/giftArr.json', function (data) {
                    var randomIndex = Math.floor(Math.random() * data.length);
                    that.giftInfo = data[randomIndex];
                    that.giftInfo.name = that.name;
                    that.setGift(that.giftInfo);
                    that.cb();
                });
            }
        };


        function drawGift() {
            var giftSize = 160;

            if (dWidth > 320 && dWidth <= 375) {
                giftSize = 180;
            }
            if (dWidth > 375) {
                giftSize = 200;
            }
            var canvas = document.getElementById('canvas');
            canvas.width = dWidth;
            canvas.height = dHeight;
            var ctx = canvas.getContext('2d');
            var count = 0;

            //绘制背景
            var bg = new Image();
            bg.onload = function () {
                count++;
                startDraw();
            };
            bg.src = './img/bg2.jpg';


            //绘制礼物
            var gift = new Image();
            gift.onload = function () {
                getGiftSize();
                count++;
                startDraw();
            };
            gift.src = localGift.giftInfo.imgUrl;

            //绘制二维码
            var erweima = new Image();
            erweima.onload = function () {
                count++;
                startDraw();
            };
            erweima.src = './img/erweima.png';

            function startDraw() {
                if (count >= 3) {
                    var title = localGift.giftInfo.name + '的专属礼物是';
                    ctx.drawImage(bg, 0, 0, dWidth, dHeight);
                    ctx.font = "20px Georgia";
                    ctx.textAlign="center";
                    ctx.fillText(title, dWidth/2-1, getTop(0.2), 160);

                    ctx.drawImage(gift, getXToMiddle(gift.width), getTop(0.2, 30), gift.width, gift.height);


                    ctx.font = "12px Georgia";
                    ctx.fillText(localGift.giftInfo.desc, dWidth/2-1, getTop(0.2, 30, gift.height, 30), 160);

                    ctx.drawImage(erweima, dWidth * 0.2, getTop(0.66), 80, 80);

                    ctx.textAlign="left";
                    ctx.fillText("长按发送给朋友", dWidth * 0.2 + 90, getTop(0.66, 46), 160);


                    var img = canvas.toDataURL('image/png');
                    $('.j-share-gift').attr('src', img);
                }
            }

            function getTop() {
                var args = [].slice.apply(arguments);
                var total = 0;
                args.forEach(function (v, i) {
                    total += v < 1 ? v * dHeight : v;
                });
                return total;
            }

            function getGiftSize() {
                var width = gift.width;
                var height = gift.height;
                if (width >= height) {
                    gift.width = giftSize;
                    gift.height = giftSize * height / width;
                } else {
                    gift.height = giftSize;
                    gift.width = giftSize * width / height;
                }
            }

            function getXToMiddle(w) {
                return (dWidth - w) / 2;
            }

            function getYByPercent(y) {
                return y * dHeight;
            }
        }
    });


</script>
</body>
</html>